2025-06-28 15:00:59,161 - __main__ - INFO - ✅ Backup created: tournament_backup_phase_2_4_1_20250628_150059.db
2025-06-28 15:00:59,161 - __main__ - INFO - SQLite version: 3.45.1
2025-06-28 15:00:59,161 - __main__ - INFO - 🔍 Analyzing current database state...
2025-06-28 15:00:59,162 - __main__ - INFO - Current state: 70 events, 69 unique base games
2025-06-28 15:00:59,162 - __main__ - INFO - PlayerEventStats: 1449 records for 17 players
2025-06-28 15:00:59,162 - __main__ - INFO - 🔧 Starting unified Elo migration...
2025-06-28 15:00:59,162 - __main__ - INFO - 💾 Creating legacy backup tables...
2025-06-28 15:00:59,175 - __main__ - INFO - ✅ Created legacy backup tables
2025-06-28 15:00:59,175 - __main__ - INFO - 🔧 Adding required columns...
2025-06-28 15:00:59,175 - __main__ - INFO - ℹ️  scoring_type column already exists in matches table
2025-06-28 15:00:59,175 - __main__ - INFO - ℹ️  supported_scoring_types column already exists in events table
2025-06-28 15:00:59,176 - __main__ - INFO - 📋 Creating event consolidation mapping...
2025-06-28 15:00:59,179 - __main__ - INFO - Created consolidation map for 69 base games
2025-06-28 15:00:59,179 - __main__ - INFO - 🔄 Consolidating fragmented events...
2025-06-28 15:00:59,180 - __main__ - INFO - Updated 69 primary events with unified names
2025-06-28 15:00:59,180 - __main__ - INFO - Marked 1 redundant events for deactivation
2025-06-28 15:00:59,180 - __main__ - INFO - 📊 Consolidating PlayerEventStats records...
2025-06-28 15:00:59,181 - __main__ - INFO - ✅ Consolidated stats for 11 players
2025-06-28 15:00:59,181 - __main__ - INFO - ✅ Deleted 11 redundant PlayerEventStats records
2025-06-28 15:00:59,181 - __main__ - INFO - 🔒 Deactivating redundant events...
2025-06-28 15:00:59,181 - __main__ - INFO - ✅ Deactivated 1 redundant events
2025-06-28 15:00:59,181 - __main__ - INFO - 🔍 Verifying consolidation results...
2025-06-28 15:00:59,182 - __main__ - INFO - ✅ No duplicate active events found
2025-06-28 15:00:59,182 - __main__ - INFO - Final state: 69 active events, 1 deprecated events
2025-06-28 15:00:59,182 - __main__ - INFO - Final PlayerEventStats: 1438 records
2025-06-28 15:00:59,182 - __main__ - INFO - ✅ Rollback script created: rollback_phase_2_4_1_20250628_150059.sh
2025-06-28 15:00:59,186 - __main__ - INFO - ✅ Migration completed successfully!
2025-06-28 15:00:59,187 - __main__ - INFO - 🔍 Analyzing current database state...
2025-06-28 15:00:59,187 - __main__ - INFO - Current state: 70 events, 69 unique base games
2025-06-28 15:00:59,187 - __main__ - INFO - PlayerEventStats: 1438 records for 17 players
2025-06-28 15:00:59,187 - __main__ - INFO - 📊 Migration summary:
2025-06-28 15:00:59,187 - __main__ - INFO -   - Events: 70 → 70 (-0)
2025-06-28 15:00:59,187 - __main__ - INFO -   - PlayerEventStats: 1449 → 1438 (-11)
2025-06-28 15:00:59,187 - __main__ - INFO -   - Backup: tournament_backup_phase_2_4_1_20250628_150059.db
2025-06-28 15:00:59,188 - __main__ - INFO -   - Rollback: rollback_phase_2_4_1_20250628_150059.sh
